
# Front-Channel vs Back-Channel no OAuth 2.0

No contexto do OAuth 2.0 (e OpenID Connect), os termos **front-channel** e **back-channel** referem-se aos meios pelos quais os dados s√£o trocados entre os participantes do fluxo de autentica√ß√£o e autoriza√ß√£o.

---

## üß≠ Resumo R√°pido

| Canal          | Exemplo de uso                              | Vis√≠vel ao usu√°rio? | Seguro para dados sens√≠veis? |
|----------------|---------------------------------------------|----------------------|-------------------------------|
| Front-Channel  | Redirecionamento do navegador (browser)     | ‚úÖ Sim               | ‚ùå N√£o                        |
| Back-Channel   | Comunica√ß√£o direta entre servidores          | ‚ùå N√£o               | ‚úÖ Sim                        |

---

## üî∑ Front-Channel

### O que √©?
√â a **comunica√ß√£o feita pelo navegador do usu√°rio (User Agent)**, geralmente por meio de redirecionamentos (HTTP 302) ou iframes.

### Exemplos:
- Redirecionamento do navegador para o Authorization Server (`/authorize`)
- Callback para o client com o authorization code
- Mensagens SSO via iframe ou postMessage

### Vantagens:
- Simples de implementar
- Necess√°rio para intera√ß√£o do usu√°rio (login, consentimento)

### Desvantagens:
- Exposto ao navegador e ao usu√°rio
- N√£o √© seguro para transmitir tokens (access tokens, refresh tokens, client secrets)

---

## üî∑ Back-Channel

### O que √©?
√â a **comunica√ß√£o feita diretamente entre servidores**, sem passar pelo navegador do usu√°rio.

### Exemplos:
- Troca de authorization code por access token (`/token`)
- Introspec√ß√£o de token (`/introspect`)
- Logout back-channel (OIDC)

### Vantagens:
- Seguro para transmitir dados sens√≠veis
- N√£o vis√≠vel ao usu√°rio

### Desvantagens:
- Requer autentica√ß√£o e prote√ß√£o adequada (TLS, client credentials)
- Mais complexo de implementar

---

## üõ°Ô∏è Boas Pr√°ticas

| Situa√ß√£o                               | Canal recomendado |
|----------------------------------------|-------------------|
| Login e consentimento do usu√°rio       | Front-Channel     |
| Trocar authorization code por token    | Back-Channel      |
| Validar tokens ou revog√°-los           | Back-Channel      |
| Transmitir tokens ou segredos          | Back-Channel      |
| Single Logout (OIDC)                   | Back e Front      |

---

## üìå Conclus√£o

- Use o **front-channel** para intera√ß√£o do usu√°rio (ex: login, autoriza√ß√£o).
- Use o **back-channel** para comunica√ß√£o segura entre servidores (ex: troca de tokens, valida√ß√£o).

‚úÖ Separar esses canais corretamente √© **essencial para a seguran√ßa e robustez** das implementa√ß√µes OAuth 2.0 e OIDC.

---

## Refer√™ncias

- [OAuth 2.0 - RFC 6749](https://datatracker.ietf.org/doc/html/rfc6749)
- [OIDC Back-Channel Logout](https://openid.net/specs/openid-connect-backchannel-1_0.html)
